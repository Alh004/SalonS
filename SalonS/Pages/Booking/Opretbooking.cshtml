@page
@using Microsoft.AspNetCore.Identity
@using SalonS.Services
@model SalonS.Pages.BookingModel

@inject SignInManager<ApplicationId> SignInManager 
@inject IBookingRepository BookingRepository
@inject IKundeRepository KundeRepository

<h1>Book an Appointment</h1>

@if (SignInManager.IsSignedIn(User))
{
    <p>Welcome, @User.Identity.Name!</p>

    <!-- Booking Form -->
    <form method="post">
        <div class="form-group">
            <label for="appointmentDate">Appointment Date:</label>
            <input type="datetime-local" class="form-control" id="appointmentDate" name="Dato" asp-for="Dato">
        </div>

        <div class="form-group">
            <label for="haircutType">Haircut Type:</label>
            <select class="form-control" id="haircutType" name="Klippetype" asp-for="Kliptyper">
                @foreach (var type in Model.Kliptyper)
                {
                    <option value="@type">@type</option>
                }
            </select>
        </div>

        <!-- Add hidden input for Kundenummer -->
        <input type="hidden" name="Kundenummer" asp-for="Kundenummer" />

        <button type="submit" class="btn btn-primary">Book Appointment</button>
    </form>

    <!-- Calendar Display -->
    <div id="calendar"></div>
}
else
{
    <p>Please sign in to book an appointment.</p>
}

<!-- Include FullCalendar script here and initialize the calendar as shown in the previous response -->

    }